<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC
        "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.jj.myssm.dao.IChartDAO">
    <resultMap id="ReslutChart" type="com.jj.myssm.vo.Chart">
        <id column="c_id" property="CId" jdbcType="INTEGER"/>
        <result column="c_gjc" property="CGjc" jdbcType="VARCHAR"/>
        <result column="c_fhxx" property="CFhxx" jdbcType="VARCHAR"/>
    </resultMap>
    <select id="getListChart" resultMap="ReslutChart" >
        select
        c_id,
        c_gjc,
        c_fhxx
      from t_chart
        <if test="start!= null and size != null">
            LIMIT #{start},#{size}
        </if>
    </select>
    <select id="countChart" resultType="int">
        select count(1) from t_chart
    </select>
    <update id="delete">
        DELETE from t_chart where c_id = #{cid}
    </update>
    <insert id="add">
        insert into t_chart
        (c_gjc,
        c_fhxx
       ) VALUES(
        #{CGjc},
        #{CFhxx}
        )
    </insert>
    <update id="update">
        update t_chart
        set
        c_gjc=#{CGjc},
        c_fhxx=#{CFhxx}
        where c_id=#{CId}
    </update>
    <select id="findByCid"  resultMap="ReslutChart">
        SELECT
        c_id,
        c_gjc,
        c_fhxx
        from t_chart where c_id=#{cid}
    </select>
    <select id="findMoByChart" resultMap="ReslutChart">
        SELECT
        c_gjc,
        c_fhxx
        from t_chart
        where c_gjc like CONCAT(CONCAT('%', #{CGjc}), '%')
    </select>
</mapper>